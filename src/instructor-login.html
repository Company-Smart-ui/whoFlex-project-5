<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Who flex</title>
    <link rel="preconnect" href="https://fonts.googleapis.com">
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="css/style.css"/>
</head>

<body>
<main>
    <button class="inst-login__open button__second button">Instructor login</button>
    <div class="open wrap-modal inst-login__wrapper">
        <div class="modal form inst-login">
            <div class="inst-login__wrap-img">
                <img src="./images/instructor-login.jpeg" alt="instructor-login">
            </div>
            <div class="inst-login__content">
                <h2 class="form__title">Welcome to Whoflex Instructor Console</h2>
                <p class="form__info">Please sign in to continue to your account.</p>
                <div class="inst-login__wrap-form">
                    <form>
                        <div class="form__group">
                            <label class="form__label" for="instrLoginEmail">Email</label>
                            <input class="form__input" type="email" id="instrLoginEmail" oninput="checkSignInEmailValidation()" required>
                            <span class="error-message" id="signin-error-message">Please enter a valid email</span>
                        </div>
                        <div class="form__group">
                            <label class="form__label" for="instrLoginPassword">Password</label>
                            <input class="password_hide_input form__input pass-word" type="password" style="display: none;"  required>
                            <input type="text" class="password-wrap form__input pass-word" id="instrLoginPassword"  data-sign="âˆ—">
                            <span class="showPass">Show</span>
                        </div>
                        <button class="button button__second" type="submit">SIGN IN</button>
                    </form>
                    <a href="./forgot-password.html" class="link forgotPassBnt">Forgot password?</a>
                </div>
                <p class="form__button-text">Interested in becoming a Whoflex Instructor? <a href="/who-flex/dist/instructor-application.html" class="link">Apply here</a></p>
            </div>
        </div>
    </div>
</main>

<footer></footer>

<script src="js/script.js"></script>

<script>
    function Mask() {
    let bob = document.querySelectorAll(".password-wrap");
    
    bob.forEach(search => {

        let password = search.previousElementSibling;
       
        password.addEventListener("input", function() {
            search.value = password.value;
            let sign = search.dataset.sign;

            search.value = search.value.replace(/[\s\S]/g, sign);
        });

        search.addEventListener("input", function() {
            let password = search.previousElementSibling;
            let passwordString = "";
            let del;
            let sign = search.dataset.sign;
        
            if(password.value.length < search.value.length){
            
                password.value = password.value + search.value[search.value.length - 1];
                passwordString = password.value;
            } else{
                del = password.value.length - search.value.length;
                passwordString = password.value;
                passwordString = passwordString.substring(0, String(passwordString).length - (del));
                password.value = passwordString;
            }

            search.value = search.value.replace(/[\s\S]/g, sign);
        });
    });
    
}Mask();


function showPass() {
    const showPass = document.querySelectorAll(".showPass");
    showPass.forEach(item => {
        item.classList.add('d-none');
        const wrapPa = item.closest('.form__group');
        const input = wrapPa.querySelector('.password-wrap');

        input.addEventListener('keyup', function(){
            if(input.value.length > 0){
                item.classList.remove('d-none');
            }else{
                item.classList.add('d-none');
            }
        })
        item.addEventListener('click', function(){
            let sub = input.previousElementSibling;
            if (sub.type === "text") {
                sub.type = "text";
                item.innerHTML = "Hide";
                sub.style.display = "block";
                input.style.display = "none";
            } else {
                sub.type = "password";
                sub.style.display = "none";
                input.style.display = "block";
                item.innerHTML = "Show";
            }
            input.focus();
            input.selectionStart = input.value.length;
        })
    })
};
showPass();
</script>
</body>

</html>